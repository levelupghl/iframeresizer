{"version":3,"file":"ghlIframeData.js","sources":["../../src/js/ghlIframeData.ts"],"sourcesContent":["function getGHLData() {\n  const vuex = window.localStorage.getItem(\"vuex\")\n  return vuex ? JSON.parse(vuex) : null\n}\n\nfunction receiveMessage(event: MessageEvent) {\n  const authorized_hosts = [\n    \"localhost:5173\",\n    \"portal.levelupghl.com\",\n    \"funnelembedtool.levelupghl.com\",\n  ]\n  const url = new URL(event.origin)\n  // debugger\n  // Ignore messages not for us\n  if (\n    !event.isTrusted ||\n    !authorized_hosts.includes(url.host) ||\n    event.data?.cmd !== \"getGHLData\" ||\n    !event.data?.responseId\n  ) {\n    return\n  }\n  const { cmd, responseId } = event.data\n  const data = getGHLData()\n  event.source?.postMessage(\n    {\n      responseId,\n      cmd,\n      data,\n    },\n    { targetOrigin: event.origin }\n  )\n}\n\nwindow.addEventListener(\"message\", receiveMessage)\n"],"names":[],"mappings":";;;;;;;;;EAAA,SAAS,UAAa,GAAA;EACpB,EAAA,MAAM,IAAO,GAAA,MAAA,CAAO,YAAa,CAAA,OAAA,CAAQ,MAAM,CAAA,CAAA;EAC/C,EAAA,OAAO,IAAO,GAAA,IAAA,CAAK,KAAM,CAAA,IAAI,CAAI,GAAA,IAAA,CAAA;EACnC,CAAA;EAEA,SAAS,eAAe,KAAqB,EAAA;EAL7C,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;EAME,EAAA,MAAM,gBAAmB,GAAA;EAAA,IACvB,gBAAA;EAAA,IACA,uBAAA;EAAA,IACA,gCAAA;EAAA,GACF,CAAA;EACA,EAAA,MAAM,GAAM,GAAA,IAAI,GAAI,CAAA,KAAA,CAAM,MAAM,CAAA,CAAA;EAGhC,EAAA,IACE,CAAC,KAAM,CAAA,SAAA,IACP,CAAC,gBAAiB,CAAA,QAAA,CAAS,IAAI,IAAI,CAAA,IAAA,CAAA,CACnC,EAAM,GAAA,KAAA,CAAA,IAAA,KAAN,mBAAY,GAAQ,MAAA,YAAA,IACpB,GAAC,EAAM,GAAA,KAAA,CAAA,IAAA,KAAN,mBAAY,UACb,CAAA,EAAA;EACA,IAAA,OAAA;EAAA,GACF;EACA,EAAA,MAAM,EAAE,GAAA,EAAK,UAAW,EAAA,GAAI,KAAM,CAAA,IAAA,CAAA;EAClC,EAAA,MAAM,OAAO,UAAW,EAAA,CAAA;EACxB,EAAA,CAAA,EAAA,GAAA,KAAA,CAAM,WAAN,IAAc,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,WAAA;EAAA,IACZ;EAAA,MACE,UAAA;EAAA,MACA,GAAA;EAAA,MACA,IAAA;EAAA,KACF;EAAA,IACA,EAAE,YAAc,EAAA,KAAA,CAAM,MAAO,EAAA;EAAA,GAAA,CAAA;EAEjC,CAAA;EAEA,MAAO,CAAA,gBAAA,CAAiB,WAAW,cAAc,CAAA;;;;;;"}