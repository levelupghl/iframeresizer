/*!***************************************
 * Level Up iFrame Resizer
 * https//levelupthemes.com
 * Version: v1.0.12
 ****************************************/(function(){"use strict";function Ee(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var se={exports:{}};(function(u){(function(p){if(typeof window=="undefined")return;var m=0,z,W=!1,H=!1,Y="message",_=Y.length,B="[iFrameSizer]",J=B.length,F=null,C=window.requestAnimationFrame,je=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),n={},Q=null,q=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,license:"1jqr0si6pnt",log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){k("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}});function ge(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function A(e,t,l){e.addEventListener(t,l,!1)}function We(e,t,l){e.removeEventListener(t,l,!1)}function Ae(){var e=["moz","webkit","o","ms"],t;for(t=0;t<e.length&&!C;t+=1)C=window[e[t]+"RequestAnimationFrame"];C?C=C.bind(window):d("setup","RequestAnimationFrame not supported")}function He(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}function Be(e){return B+"["+He(e)+"]"}function me(e){return n[e]?n[e].log:W}function d(e,t){X("log",e,t,me(e))}function he(e,t){X("info",e,t,me(e))}function k(e,t){X("warn",e,t,!0)}function X(e,t,l,r){r===!0&&typeof window.console=="object"&&console[e](Be(t),l)}function qe(e){function t(){function i(){Me(h),be(s),j("onResized",h)}f("Height"),f("Width"),Fe(i,h,"init")}function l(){var i=R.slice(J).split(":"),c=i[1]?parseInt(i[1],10):0,w=n[i[0]]&&n[i[0]].iframe,b=getComputedStyle(w);return{iframe:w,id:i[0],height:c+r(b)+g(b),width:i[2],type:i[3]}}function r(i){if(i.boxSizing!=="border-box")return 0;var c=i.paddingTop?parseInt(i.paddingTop,10):0,w=i.paddingBottom?parseInt(i.paddingBottom,10):0;return c+w}function g(i){if(i.boxSizing!=="border-box")return 0;var c=i.borderTopWidth?parseInt(i.borderTopWidth,10):0,w=i.borderBottomWidth?parseInt(i.borderBottomWidth,10):0;return c+w}function f(i){var c=Number(n[s]["max"+i]),w=Number(n[s]["min"+i]),b=i.toLowerCase(),y=Number(h[b]);d(s,"Checking "+b+" is in range "+w+"-"+c),y<w&&(y=w,d(s,"Set "+b+" to min value")),y>c&&(y=c,d(s,"Set "+b+" to max value")),h[b]=""+y}function T(){function i(){function b(){var O=0,L=!1;for(d(s,"Checking connection is from allowed list of origins: "+w);O<w.length;O++)if(w[O]===c){L=!0;break}return L}function y(){var O=n[s]&&n[s].remoteHost;return d(s,"Checking connection is from: "+O),c===O}return w.constructor===Array?b():y()}var c=e.origin,w=n[s]&&n[s].checkOrigin;if(w&&""+c!="null"&&!i())throw new Error("Unexpected message received from: "+c+" for "+h.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function S(){return B===(""+R).slice(0,J)&&R.slice(J).split(":")[0]in n}function P(){var i=h.type in{true:1,false:1,undefined:1};return i&&d(s,"Ignoring init message from meta parent page"),i}function I(i){return R.slice(R.indexOf(":")+_+i)}function N(i){d(s,"onMessage passed: {iframe: "+h.iframe.id+", message: "+i+"}"),j("onMessage",{iframe:h.iframe,message:JSON.parse(i)}),d(s,"--")}function ee(){var i=document.body.getBoundingClientRect(),c=h.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:c.height,iframeWidth:c.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(c.top-i.top,10),offsetLeft:parseInt(c.left-i.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function V(i,c){function w(){E("Send Page Info","pageInfo:"+ee(),i,c)}Ue(w,32,c)}function ne(){function i(y,O){function L(){n[b]?V(n[b].iframe,b):c()}["scroll","resize"].forEach(function(Re){d(b,y+Re+" listener for sendPageInfo"),O(window,Re,L)})}function c(){i("Remove ",We)}function w(){i("Add ",A)}var b=s;w(),n[b]&&(n[b].stopPageInfo=c)}function te(){n[s]&&n[s].stopPageInfo&&(n[s].stopPageInfo(),delete n[s].stopPageInfo)}function ie(){var i=!0;return h.iframe===null&&(k(s,"IFrame ("+h.id+") not found"),i=!1),i}function o(i){var c=i.getBoundingClientRect();return we(s),{x:Math.floor(Number(c.left)+Number(F.x)),y:Math.floor(Number(c.top)+Number(F.y))}}function a(i){function c(){F=O,v(),d(s,"--")}function w(){return{x:Number(h.width)+y.x,y:Number(h.height)+y.y}}function b(){window.parentIFrame?window.parentIFrame["scrollTo"+(i?"Offset":"")](O.x,O.y):k(s,"Unable to scroll to requested position, window.parentIFrame not found")}var y=i?o(h.iframe):{x:0,y:0},O=w();d(s,"Reposition requested from iFrame (offset x:"+y.x+" y:"+y.y+")"),window.top===window.self?c():b()}function v(){j("onScroll",F)===!1?ve():be(s)}function M(i){function c(){var L=o(O);d(s,"Moving to in page link (#"+b+") at x: "+L.x+" y: "+L.y),F={x:L.x,y:L.y},v(),d(s,"--")}function w(){window.parentIFrame?window.parentIFrame.moveToAnchor(b):d(s,"In page link #"+b+" not found and window.parentIFrame not found")}var b=i.split("#")[1]||"",y=decodeURIComponent(b),O=document.getElementById(y)||document.getElementsByName(y)[0];O?c():window.top===window.self?d(s,"In page link #"+b+" not found"):w()}function x(i){var c={};if(Number(h.width)===0&&Number(h.height)===0){var w=I(9).split(":");c={x:w[1],y:w[0]}}else c={x:h.width,y:h.height};j(i,{iframe:h.iframe,screenX:Number(c.x),screenY:Number(c.y),type:h.type})}function j(i,c){return Z(s,i,c)}function U(){switch(n[s]&&n[s].firstRun&&ae(),h.type){case"close":{D(h.iframe);break}case"message":{N(I(6));break}case"mouseenter":{x("onMouseEnter");break}case"mouseleave":{x("onMouseLeave");break}case"autoResize":{n[s].autoResize=JSON.parse(I(9));break}case"scrollTo":{a(!1);break}case"scrollToOffset":{a(!0);break}case"pageInfo":{V(n[s]&&n[s].iframe,s),ne();break}case"pageInfoStop":{te();break}case"inPageLink":{M(I(9));break}case"reset":{ye(h);break}case"init":{t(),j("onInit",h.iframe);break}default:Number(h.width)===0&&Number(h.height)===0?k("Unsupported message received ("+h.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}}function oe(i){var c=!0;return n[i]||(c=!1,k(h.type+" No settings for "+i+". Message was: "+R)),c}function re(){for(var i in n)E("iFrame requested init",Oe(i),n[i].iframe,i)}function ae(){n[s]&&(n[s].firstRun=!1)}var R=e.data,h={},s=null;R==="[iFrameResizerChild]Ready"?re():S()?(h=l(),s=h.id,n[s]&&(n[s].loaded=!0),!P()&&oe(s)&&(d(s,"Received: "+R),ie()&&T()&&U())):he(s,"Ignored: "+R)}function Z(e,t,l){var r=null,g=null;if(n[e])if(r=n[e][t],typeof r=="function")g=r(l);else throw new TypeError(t+" on iFrame["+e+"] is not a function");return g}function pe(e){var t=e.id;delete n[t]}function D(e){var t=e.id;if(Z(t,"onClose",t)===!1){d(t,"Close iframe cancelled by onClose event");return}d(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(l){k(l)}Z(t,"onClosed",t),d(t,"--"),pe(e),z&&(z.disconnect(),z=null)}function we(e){F===null&&(F={x:window.pageXOffset===p?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===p?document.documentElement.scrollTop:window.pageYOffset},d(e,"Get page position: "+F.x+","+F.y))}function be(e){F!==null&&(window.scrollTo(F.x,F.y),d(e,"Set page position: "+F.x+","+F.y),ve())}function ve(){F=null}function ye(e){function t(){Me(e),E("reset","reset",e.iframe,e.id)}d(e.id,"Size reset requested by "+(e.type==="init"?"host page":"iFrame")),we(e.id),Fe(t,e,"reset")}function Me(e){function t(f){if(!e.id){d("undefined","messageData id not set");return}e.iframe.style[f]=e[f]+"px",d(e.id,"IFrame ("+g+") "+f+" set to "+e[f]+"px")}function l(f){!H&&e[f]==="0"&&(H=!0,d(g,"Hidden iFrame detected, creating visibility listener"),Ye())}function r(f){t(f),l(f)}var g=e.iframe.id;n[g]&&(n[g].sizeHeight&&r("height"),n[g].sizeWidth&&r("width"))}function Fe(e,t,l){l!==t.type&&C&&!window.jasmine?(d(t.id,"Requesting animation frame"),C(e)):e()}function E(e,t,l,r,g){function f(){var N=n[r]&&n[r].targetOrigin;d(r,"["+e+"] Sending msg to iframe["+r+"] ("+t+") targetOrigin: "+N),l.contentWindow.postMessage(B+t,N)}function T(){k(r,"["+e+"] IFrame("+r+") not found")}function S(){l&&"contentWindow"in l&&l.contentWindow!==null?f():T()}function P(){function N(){n[r]&&!n[r].loaded&&!I&&(I=!0,k(r,"IFrame has not responded within "+n[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}g&&n[r]&&n[r].warningTimeout&&(n[r].msgTimeout=setTimeout(N,n[r].warningTimeout))}var I=!1;r=r||l.id,n[r]&&(S(),P())}function Oe(e){return e+":"+n[e].bodyMarginV1+":"+n[e].sizeWidth+":"+n[e].log+":"+n[e].interval+":"+n[e].enablePublicMethods+":"+n[e].autoResize+":"+n[e].bodyMargin+":"+n[e].heightCalculationMethod+":"+n[e].bodyBackground+":"+n[e].bodyPadding+":"+n[e].tolerance+":"+n[e].inPageLinks+":"+n[e].resizeFrom+":"+n[e].widthCalculationMethod+":"+n[e].mouseEvents}function Ve(e){return typeof e=="number"}function ze(e,t){function l(){function a(M){var x=n[o][M];x!==1/0&&x!==0&&(e.style[M]=Ve(x)?x+"px":x,d(o,"Set "+M+" = "+e.style[M]))}function v(M){if(n[o]["min"+M]>n[o]["max"+M])throw new Error("Value for min"+M+" can not be greater than max"+M)}v("Height"),v("Width"),a("maxHeight"),a("minHeight"),a("maxWidth"),a("minWidth")}function r(){var a=t&&t.id||q.id+m++;return document.getElementById(a)!==null&&(a+=m++),a}function g(a){if(typeof a!="string")throw new TypeError("Invaild id for iFrame. Expected String");return a===""&&(e.id=a=r(),W=(t||{}).log,d(a,"Added missing iframe ID: "+a+" ("+e.src+")")),a}function f(){switch(d(o,"IFrame scrolling "+(n[o]&&n[o].scrolling?"enabled":"disabled")+" for "+o),e.style.overflow=(n[o]&&n[o].scrolling)===!1?"hidden":"auto",n[o]&&n[o].scrolling){case"omit":break;case!0:{e.scrolling="yes";break}case!1:{e.scrolling="no";break}default:e.scrolling=n[o]?n[o].scrolling:"no"}}function T(){(typeof(n[o]&&n[o].bodyMargin)=="number"||(n[o]&&n[o].bodyMargin)==="0")&&(n[o].bodyMarginV1=n[o].bodyMargin,n[o].bodyMargin=""+n[o].bodyMargin+"px")}function S(){var a=n[o]&&n[o].firstRun,v=n[o]&&n[o].heightCalculationMethod in je;!a&&v&&ye({iframe:e,height:0,width:0,type:"init"})}function P(){n[o]&&(n[o].iframe.iFrameResizer={close:D.bind(null,n[o].iframe),removeListeners:pe.bind(null,n[o].iframe),resize:E.bind(null,"Window resize","resize",n[o].iframe),moveToAnchor:function(a){E("Move to anchor","moveToAnchor:"+a,n[o].iframe,o)},sendMessage:function(a){a=JSON.stringify(a),E("Send Message","message:"+a,n[o].iframe,o)}})}function I(a){function v(){E("iFrame.onload",a,e,p,!0),S()}function M(j){if(!e.parentNode)return null;var U=new j(function(oe){oe.forEach(function(re){var ae=Array.prototype.slice.call(re.removedNodes);ae.forEach(function(R){R===e&&D(e)})})});return U.observe(e.parentNode,{childList:!0}),U}var x=ge();x&&(z=M(x)),A(e,"load",v),E("init",a,e,p,!0)}function N(a){if(typeof a!="object")throw new TypeError("Options is not an object")}function ee(a){for(var v in q)Object.prototype.hasOwnProperty.call(q,v)&&(n[o][v]=Object.prototype.hasOwnProperty.call(a,v)?a[v]:q[v])}function V(a){return a===""||a.match(/^(about:blank|javascript:|file:\/\/)/)!==null?"*":a}function ne(a){var v=a.split("Callback");if(v.length===2){var M="on"+v[0].charAt(0).toUpperCase()+v[0].slice(1);this[M]=this[a],delete this[a],k(o,"Deprecated: '"+a+"' has been renamed '"+M+"'. The old method will be removed in the next major version.")}}function te(a){a=a||{},n[o]=Object.create(null),n[o].iframe=e,n[o].firstRun=!0,n[o].remoteHost=e.src&&e.src.split("/").slice(0,3).join("/"),N(a),Object.keys(a).forEach(ne,a),ee(a),n[o]&&(n[o].targetOrigin=n[o].checkOrigin===!0?V(n[o].remoteHost):"*")}function ie(){return o in n&&"iFrameResizer"in e}var o=g(e.id);ie()?k(o,"Ignored iFrame, already setup."):(te(t),f(),l(),T(),I(Oe(o)),P())}function G(e,t){Q===null&&(Q=setTimeout(function(){Q=null,e()},t))}var K={};function Ue(e,t,l){K[l]||(K[l]=setTimeout(function(){K[l]=null,e()},t))}function Ye(){function e(){function g(f){function T(P){return(n[f]&&n[f].iframe.style[P])==="0px"}function S(P){return P.offsetParent!==null}n[f]&&S(n[f].iframe)&&(T("height")||T("width"))&&E("Visibility change","resize",n[f].iframe,f)}Object.keys(n).forEach(function(f){g(f)})}function t(g){d("window","Mutation observed: "+g[0].target+" "+g[0].type),G(e,16)}function l(){var g=document.querySelector("body"),f={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},T=new r(t);T.observe(g,f)}var r=ge();r&&l()}function _e(e){function t(){xe("Window "+e,"resize")}d("window","Trigger event: "+e),G(t,16)}function ke(){function e(){xe("Tab Visible","resize")}document.visibilityState!=="hidden"&&(d("document","Trigger event: Visibility change"),G(e,16))}function xe(e,t){function l(r){return n[r]&&n[r].resizeFrom==="parent"&&n[r].autoResize&&!n[r].firstRun}Object.keys(n).forEach(function(r){l(r)&&E(e,t,n[r].iframe,r)})}function Je(){A(window,"message",qe),A(window,"resize",function(){_e("resize")}),A(document,"visibilitychange",ke),A(document,"-webkit-visibilitychange",ke)}function $(){function e(r,g){function f(){if(g.tagName){if(g.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+g.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}g&&(f(),ze(g,r),l.push(g))}function t(r){r&&r.enablePublicMethods&&k("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var l;return Ae(),Je(),function(g,f){switch(l=[],t(g),typeof f){case"undefined":case"string":{Array.prototype.forEach.call(document.querySelectorAll(f||"iframe"),e.bind(p,g));break}case"object":{e(g,f);break}default:throw new TypeError("Unexpected data type ("+typeof f+")")}return l}}function Qe(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(l){function r(g,f){ze(f,l)}return this.filter("iframe").each(r).end()}):he("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery!==p&&Qe(window.jQuery),typeof p=="function"&&p.amd?p([],$):u.exports=$(),window.iFrameResize=window.iFrameResize||$()})()})(se);var Te=se.exports,ue=Ee(Te);function Pe(u,p){let m;return function(){const z=()=>{clearTimeout(m),u()};clearTimeout(m),m=window.setTimeout(z,p)}}const Ie=5e3,Le=u=>{const p={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new MutationObserver(Pe(()=>{document.querySelectorAll(u).forEach(m=>{m.dataset.resizeInit||(m.dataset.resizeInit="true",fe({autoResize:!0},m))})},50)).observe(document.body,p)},Ne=u=>{var p;const m=document.createElement("div");return m.classList.add("iframeLoading"),m.innerHTML='<div style="width:24px;margin:20px auto 0"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY{transform-origin:center;animation:spinner_AtaB .75s infinite linear}@keyframes spinner_AtaB{100%{transform:rotate(360deg)}}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"/><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"/></svg></div>',(p=u.parentNode)==null||p.insertBefore(m,u),u.addEventListener("load",function(){ce(m)}),m},ce=u=>{u!=null&&u.style&&(u.style.display="none")};function le(u,p){return function(...m){return u&&u(...m),p(...m)}}const Ce=(u,p)=>{const m=Ne(p),z=()=>{ce(m)};u.onInit=le(u.onInit,z),u.onResized=le(u.onResized,z),setTimeout(z,Ie)},fe=(u,p)=>{const m=typeof p=="string"?document.querySelector(p):p;m.src.includes("funnelembed.com")&&(m.src=m.src.replace("funnelembed.com","embednotionpage.com")),m.src.includes("embednotionpage.com")||m.src.includes("funnelembed.com")?u.heightCalculationMethod!=null||(u.heightCalculationMethod="taggedElement"):Ce(u,m),u.bodyBackground!=null||(u.bodyBackground="#ffffff !important"),u.scrolling!=null||(u.scrolling=!1),u.inPageLinks!=null||(u.inPageLinks=!0),u.bodyMargin!=null||(u.bodyMargin="0"),setTimeout(()=>{ue(u,m)},100)},de=()=>{var u,p,m;const z=document.currentScript;(u=z==null?void 0:z.dataset)!=null&&u.iframeSelector&&Le(z.dataset.iframeSelector);const W=(m=(p=window.levelup)==null?void 0:p.iframe)==null?void 0:m.queue;if(W){for(;W.length;){const H=W.shift(),[Y,_]=H;fe(Y,_)}window.levelup.iframe=ue}},Se=()=>{document.readyState==="complete"||document.readyState==="interactive"?de():document.addEventListener("DOMContentLoaded",()=>{de()})};console.log("Powered by Level Up iFrame Resizer v1.0.12:","https://levelupthemes.com"),Se()})();
//# sourceMappingURL=iframeResizer.min.js.map
