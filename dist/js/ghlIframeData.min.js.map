{"version":3,"file":"ghlIframeData.min.js","sources":["../../src/js/ghlIframeData.ts"],"sourcesContent":["function getGHLData() {\n  const vuex = window.localStorage.getItem(\"vuex\")\n  return vuex ? JSON.parse(vuex) : null\n}\n\nfunction receiveMessage(event: MessageEvent) {\n  const authorized_hosts = [\n    \"localhost:5173\",\n    \"portal.levelupghl.com\",\n    \"funnelembedtool.levelupghl.com\",\n  ]\n  const url = new URL(event.origin)\n  // debugger\n  // Ignore messages not for us\n  if (\n    !event.isTrusted ||\n    !authorized_hosts.includes(url.host) ||\n    event.data?.cmd !== \"getGHLData\" ||\n    !event.data?.responseId\n  ) {\n    return\n  }\n  const { cmd, responseId } = event.data\n  const data = getGHLData()\n  event.source?.postMessage(\n    {\n      responseId,\n      cmd,\n      data,\n    },\n    { targetOrigin: event.origin }\n  )\n}\n\nwindow.addEventListener(\"message\", receiveMessage)\n"],"names":["getGHLData","vuex","receiveMessage","event","_a","_b","_c","authorized_hosts","url","cmd","responseId","data"],"mappings":";;;;mEAAA,SAASA,GAAa,CACpB,MAAMC,EAAO,OAAO,aAAa,QAAQ,MAAM,EAC/C,OAAOA,EAAO,KAAK,MAAMA,CAAI,EAAI,IACnC,CAEA,SAASC,EAAeC,EAAqB,CAL7C,IAAAC,EAAAC,EAAAC,EAME,MAAMC,EAAmB,CACvB,iBACA,wBACA,gCACF,EACMC,EAAM,IAAI,IAAIL,EAAM,MAAM,EAGhC,GACE,CAACA,EAAM,WACP,CAACI,EAAiB,SAASC,EAAI,IAAI,KACnCJ,EAAAD,EAAM,OAAN,KAAA,OAAAC,EAAY,OAAQ,cACpB,GAACC,EAAAF,EAAM,OAAN,MAAAE,EAAY,YAEb,OAEF,KAAM,CAAE,IAAAI,EAAK,WAAAC,CAAW,EAAIP,EAAM,KAC5BQ,EAAOX,KACbM,EAAAH,EAAM,SAAN,MAAAG,EAAc,YACZ,CACE,WAAAI,EACA,IAAAD,EACA,KAAAE,CACF,EACA,CAAE,aAAcR,EAAM,MAAO,EAEjC,CAEA,OAAO,iBAAiB,UAAWD,CAAc"}